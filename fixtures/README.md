# Test Fixtures

This directory contains sample test data generated by **cardgen-pro**.

## ⚠️ Important Notes

- **These are synthetic test PANs** - Not real card numbers
- **For sandbox/development use only**
- **Do not use in production environments**
- **CVCs are deterministically generated** using secret "fixture-secret-2025"

## Available Fixtures

### Card Fixtures

- `cards_visa_5.json` - 5 Visa cards with ISO-8583 and Track2
- `cards_mastercard_5.json` - 5 Mastercard cards with ISO-8583 and Track2
- `cards_amex_3.json` - 3 American Express cards with ISO-8583 and Track2

### Order Fixtures

- `orders_sample.json` - Sample orders without CVCs
- `orders_with_cvc.json` - Orders with CVCs injected

## Usage Examples

### Load Cards

```bash
# View cards
cat fixtures/cards_visa_5.json | jq .

# Extract PANs
cat fixtures/cards_visa_5.json | jq -r '.[].pan'

# Count cards
cat fixtures/cards_visa_5.json | jq '. | length'
```

### Use in Tests

```bash
# Copy to test directory
cp fixtures/cards_visa_5.json /tmp/test-cards.json

# Use in integration tests
go test ./test -v -run TestWithFixtures
```

### Regenerate Fixtures

```bash
# Regenerate with same secret (CVCs will match)
CARDGEN_SECRET="fixture-secret-2025" cardgen-pro generate \
  --brand visa --count 5 --iso --track2 \
  --out fixtures/cards_visa_5.json

# Generate new fixture with different secret
CARDGEN_SECRET="new-secret" cardgen-pro generate \
  --brand mastercard --count 10 \
  --out fixtures/cards_mastercard_10.json
```

## Fixture Details

### Visa Cards

- BIN: 400000
- Length: 16 digits
- CVC: 3 digits
- Expiry: Future dates (2026-2030)

### Mastercard Cards

- BIN: 510000
- Length: 16 digits
- CVC: 3 digits
- Expiry: Future dates (2026-2030)

### American Express Cards

- BIN: 340000
- Length: 15 digits
- CVC: 4 digits
- Expiry: Future dates (2026-2030)

## Security Reminder

**Always clean up fixtures after testing:**

```bash
# Secure delete
shred -vfz -n 10 fixtures/cards_*.json

# Or regular delete
rm fixtures/cards_*.json fixtures/orders_*.json
```

## Regeneration Schedule

Fixtures should be regenerated:
- When secret is rotated
- When testing new features
- When format changes
- Quarterly for freshness

---

**Generated:** 2025-10-21  
**Secret:** fixture-secret-2025 (DO NOT use in production)
